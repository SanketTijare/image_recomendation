<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <title>Image Based Recsys</title>
      <!-- Bootstrap core CSS -->
      <link href="/static/css/bootstrap.min.css" rel="stylesheet">
      <!-- Custom styles for this template -->
      <link href="/static/css/form_upload.css" rel="stylesheet">
   </head>
   <body class="text-center">
      <form class="form-upload" method=post enctype=multipart/form-data>
         <h5 class="h5 mb-3 font-weight-normal">Please Select SKU Type</h5>
         <select class="form-control" name="sku_type" id="sku_type">
            <option value="none" selected disabled hidden>Select an Option</option>
            <option value="boots">Boots</option>
            <option value="sandals">Sandals</option>
            <option value="shoes">Shoes</option>
            <option value="slippers">Slippers</option>
         </select>
         <br>
         <h5 class="h5 mb-3 font-weight-normal">Please upload image</h5>
         <input type="file" id="image" name="image" class="form-control" required autofocus>
         <button class="btn btn-lg btn-primary btn-block" type="submit">Get Similar Images</button>
         <br>
         {% if prediction %}
         <div>
            <img class="mb-4" src="{{input_image}}" alt="" width="128" height="128">
            <h3 class="h3 mb-3 font-weight-normal">Input-Image</h3>
         </div>
         <br>
         <div class="row">
            {% if prediction[0].similarity %}
            <div class="col-md-5">
               <div class="col-md-5 col-md-offset-3"> <img class="mb-4" src="{{image_loc[0].filename}}" alt="" width="128" height="128"> </div>
               <h9>{{prediction[0].similarity}}</h9>
            </div>
            {% endif %}
            {% if prediction[1].similarity %}
            <div class="col-md-5">
               <div class="col-md-5 col-md-offset-3"> <img class="mb-4" src="{{image_loc[1].filename}}" alt="" width="128" height="128"> </div>
               <h9>{{prediction[1].similarity}}</h9>
            </div>
            {% endif %}
         </div>
         <br>
         <div class="row">
            {% if prediction[2].similarity %}
            <div class="col-md-5">
               <div class="col-md-5 col-md-offset-3"> <img class="mb-4" src="{{image_loc[2].filename}}" alt="" width="128" height="128"> </div>
               <h9>{{prediction[2].similarity}}</h9>
            </div>
            {% endif %}
            {% if prediction[3].similarity %}
            <div class="col-md-5">
               <div class="col-md-5 col-md-offset-3"> <img class="mb-4" src="{{image_loc[3].filename}}" alt="" width="128" height="128"> </div>
               <h9>{{prediction[3].similarity}}</h9>
            </div>
            {% endif %}
         </div>
         {% endif %}
         {% if nothing_found %}
         <h1 class="h3 mb-3 font-weight-normal">Zero Similar Image Found</h1>
         {% endif %}
      </form>
   </body>
</html>